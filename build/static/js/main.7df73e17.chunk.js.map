{"version":3,"sources":["components/navbar.js","components/home.js","components/login.js","components/signup.js","components/profile.js","components/createPost.js","components/otherProfile.js","reducer/userReducer.js","App.js","reportWebVitals.js","index.js"],"names":["Navbar","searchModel","useRef","useState","search","setSearch","userDetails","setUserDetails","history","useHistory","useContext","UserContext","state","dispatch","useEffect","M","Modal","init","current","className","href","id","data-target","style","color","to","class","type","name","onClick","localStorage","clear","push","ref","placeholder","value","onChange","e","query","target","fetch","method","headers","getItem","body","JSON","stringify","then","res","json","results","console","log","map","item","_id","getInstance","close","username","Home","data","setData","result","catch","err","postedBy","src","photo","likes","includes","postId","newData","fontStyle","length","fontFamily","title","comment","record","fontWeight","firstName","text","onSubmit","preventDefault","Login","email","setEmail","password","setPassword","test","error","toast","html","message","classes","token","undefined","setItem","user","payload","Signup","setFirstName","lastName","setLastName","setUsername","status","Profile","mypics","setPics","image","setImage","myposts","FormData","append","profilePic","url","window","location","reload","margin","maxWidth","display","justifyContent","borderBottom","width","height","borderRadius","file","files","followers","followings","filter","alt","CreatePost","setTitle","setBody","picUrl","setPicUrl","pic","datas","postDetails","OtherProfile","profile","setProfile","userid","useParams","followButton","setFollowButton","posts","followId","prevState","updateFollowers","reducer","action","createContext","Routing","parse","exact","path","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7df73e17.chunk.js","sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { UserContext } from '../App';\r\nimport M from \"materialize-css\";\r\n\r\nconst Navbar = ()=>{\r\n  const searchModel = useRef(null);\r\n  const [search ,setSearch] = useState('');\r\n  const [userDetails , setUserDetails] = useState([]);\r\n  const history = useHistory();\r\n  const{state,dispatch} = useContext(UserContext);\r\n\r\nuseEffect(()=>{\r\nM.Modal.init(searchModel.current)\r\n},[])\r\n\r\n  const render = ()=>{\r\n    if(state){\r\n      return[\r\n       <Link><li key=\"1\"><i className=\"material-icons modal-trigger\" data-target=\"modal1\" style={{color:\"black\"}}>search</i></li></Link>,\r\n        <li key=\"2\"><Link to=\"/\">Home</Link></li>,\r\n          <li key=\"3\"><Link to=\"/profile\" >Profile</Link></li>,\r\n        <li key=\"4\"><Link to=\"/create\" >Create</Link></li>,\r\n        <li key=\"5\"> <button class=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" type=\"submit\" name=\"action\"\r\n          onClick={()=>{\r\n            localStorage.clear()\r\n            dispatch({type:\"CLEAR\"})\r\n            history.push('/login');\r\n          }}>\r\n        Logout\r\n        </button></li>\r\n    ]    \r\n    }\r\n    else{\r\n      return[\r\n        <li><Link to=\"/login\">Login</Link></li>,\r\n        <li><Link to=\"/signup\">Signup</Link></li>\r\n      ]\r\n    }\r\n  }\r\n\r\n  const getUsers = (query)=>{\r\n      setSearch(query)\r\n      fetch('/user/search-users',{\r\n        method:\"post\",\r\n        headers:{\r\n          'Content-Type':'application/json',\r\n          'Authorization':'Bearer'+ localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n          query\r\n        })\r\n      }).then(res=>res.json())\r\n      .then(results=>{\r\n        console.log(results);\r\n        setUserDetails(results);\r\n      })\r\n\r\n  }\r\nreturn(\r\n    <nav>\r\n    <div className=\"nav-wrapper white\">\r\n      <a href=\"/\" className=\"brand-logo left\">Instagram</a>\r\n      <ul id=\"nav-mobile\" className=\"right\">\r\n        {render()}\r\n      </ul>\r\n    </div>\r\n  <div id=\"modal1\" class=\"modal\" ref={searchModel} style={{color:\"black\"}}>\r\n    <div className=\"modal-content\">\r\n    <input type=\"text\" placeholder=\"search\" value={search} onChange={(e)=>getUsers(e.target.value)}></input>\r\n    <ul className=\"collection\">\r\n    {userDetails &&\r\n      userDetails.map(item=>{\r\n    return(\r\n      <Link to={item._id !== state._id?\"/profile/\"+item._id:'/profile'} onClick={()=>{M.Modal.getInstance(searchModel.current).close()\r\n        setSearch('');\r\n      }}><li className=\"collection-item\">{item && item.username}</li></Link>\r\n     //<li> <img className=\"collection-item\" style={{height:\"20px\"}} src={item.profilePic}></img></li>\r\n    )  \r\n    })}\r\n  </ul>\r\n    </div>\r\n    <div className=\"modal-footer\">\r\n      <button className=\"modal-close waves-effect waves-green btn-flat\" onClick={()=>{setSearch('')}}>close</button>\r\n    </div>\r\n    </div>\r\n  </nav>\r\n)\r\n}\r\nexport default Navbar;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../App';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Home = ()=>{\r\n    const [data,setData] = useState([]);\r\n    const {state,dispatch} = useContext(UserContext);\r\n useEffect(()=>{\r\n  fetch('/post/view',{\r\n      headers:{\r\n          \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n      }\r\n  }).then(res=>\r\n      res.json()\r\n  ).then(result=>{\r\n     console.log(result);\r\n      setData(result);\r\n     // console.log(data);\r\n  }).catch(err=>{\r\n      console.log(err);\r\n  })\r\n },[])\r\n// like\r\n const like = (id)=>{\r\n  fetch('/post/like',{\r\n      method:\"put\",\r\n      headers:{\r\n          \"Content-Type\":\"application/json\",\r\n          \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n      },\r\n      body:JSON.stringify({\r\n          postId:id\r\n      })\r\n  }).then(res=>\r\n      res.json()\r\n  ).then(result=>{\r\n    // console.log(result);\r\n    const newData = data.map(item=>{\r\n        if(item._id==result._id){\r\n            return result\r\n        }\r\n        else{\r\n            return item\r\n        }\r\n    })\r\n    setData(newData);\r\n  })\r\n }\r\n// dislike\r\n const dislike = (id)=>{\r\n    fetch('/post/unlike',{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            postId:id\r\n        })\r\n    }).then(res=>\r\n        res.json()\r\n    ).then(result=>{\r\n       console.log(result);\r\n      const newData = data.map(item=>{\r\n        if(item._id==result._id){\r\n            return result\r\n        }\r\n        else{\r\n            return item\r\n        }\r\n    })\r\n    setData(newData);\r\n    })\r\n   }\r\n//comment section\r\n   const comment = (text,id)=>{\r\n       fetch('/post/comment',{\r\n        method:\"put\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            postId:id,\r\n            text:text\r\n        })\r\n       }).then(res=>res.json())\r\n       .then(result=>{\r\n           console.log(result);\r\n           const newData = data.map(item=>{\r\n            if(item._id==result._id){\r\n                return result\r\n            }\r\n            else{\r\n                return item\r\n            }\r\n        })\r\n        setData(newData);\r\n       })\r\n   }\r\n    return(\r\n        <div className=\"home\">\r\n        {    data&&\r\n            data.map(item=>{\r\n                return(\r\n                    <div className=\"home-card\">\r\n                    <h5><Link to={item.postedBy._id!==state._id?'/profile/'+ item.postedBy._id:'/profile'}>{item.postedBy.username}</Link></h5>\r\n                    <div className=\"card-image\">\r\n                    <img src={item.photo}></img>\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                    {\r\n                        item.likes.includes(state._id)\r\n                        ? <Link><i className=\"material-icons\" onClick={()=>dislike(item._id)}>thumb_down</i></Link>\r\n                        : <Link><i className=\"material-icons\" onClick={()=>like(item._id)}>thumb_up</i></Link>\r\n                    }\r\n                    \r\n                    \r\n                    <h6 style={{fontStyle:\"italic\"}}>{item.likes.length + \" \"+ \"likes\"}</h6>\r\n                    <h6 style={{fontFamily:\"cursive\"}}>{item.title}</h6>\r\n                    <p style={{fontStyle:\"italic\"}}>{item.body}</p>\r\n                    <h6 style={{fontFamily:\"cursive\"}}>Comments</h6>\r\n                    {\r\n                        item.comment.map(record=>{\r\n                              return(\r\n                                  <h6 style={{fontStyle:\"italic\"}} ><span style={{fontWeight:\"bold\" ,fontFamily:\"cursive\"}}>{record.postedBy.firstName}  </span>{record.text}</h6>\r\n                              )\r\n                        })\r\n                    }\r\n                    <form onSubmit={(e)=>{\r\n                        e.preventDefault()\r\n                        comment(e.target[0].value,item._id)\r\n                    }}>\r\n                    <input type=\"text\" placeholder=\"add a comment...\"></input>\r\n                    </form>\r\n                    </div>\r\n                    </div>\r\n                )\r\n            })\r\n        }\r\n       \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import React, { useContext, useState } from 'react';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nimport { UserContext } from '../App';\r\nconst Login = ()=>{\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const getData = ()=>{\r\n        // checking for valid email using regex expression\r\n        if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)){\r\n            M.toast({html:\"Invalid email...\",classes:\"#e53935 red darken-1\"});\r\n            return\r\n        }\r\n        fetch('/user/login',{\r\n            method:'post',\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify({\r\n                email,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data);\r\n            if(data.error){\r\n                  M.toast({html:data.message,classes:\"#e53935 red darken-1\"});\r\n                  history.push('/login');\r\n            }\r\n            else if(data.token == null || data.token == undefined){\r\n                M.toast({html:data.message,classes:\"#e53935 red darken-1\"});\r\n                setEmail('');\r\n                setPassword('');\r\n                history.push('/login');\r\n            }\r\n            else{\r\n                localStorage.setItem(\"jwt\",data.token)\r\n                localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n                dispatch({type:\"USER\", payload:data.user})\r\n                M.toast({html:data.message,classes:\"#4caf50 green\"});\r\n                history.push('/');\r\n            }\r\n        })\r\n    }\r\n    return(\r\n        <div className = \"mycard\">\r\n        <div className = \"card\">\r\n        <h2>Instagram</h2>\r\n        <input type=\"text\" placeholder=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)}></input>\r\n        <input type=\"password\" placeholder=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)}></input>\r\n        <button class=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" type=\"submit\" name=\"action\" onClick={()=>getData()}>\r\n        Login\r\n        </button>\r\n        <p>Do not have account?</p>\r\n        <Link to='/signup'>click here</Link>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React,{useState} from 'react';\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nconst Signup = ()=>{\r\n    const history = useHistory();\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [username,setUsername] = useState('');\r\n    const sendData = ()=>{\r\n        // checking for valid email using regex expression\r\n        if(!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/.test(email)){\r\n            M.toast({html:\"Invalid email...\",classes:\"#e53935 red darken-1\"});\r\n            return\r\n        }\r\n        fetch('/user/signup',{\r\n            method:'post',\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            },\r\n            body:JSON.stringify({\r\n                firstName,\r\n                lastName,\r\n                email,\r\n                username,\r\n                password\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data);\r\n            if(data.error){\r\n                  M.toast({html:data.message,classes:\"#e53935 red darken-1\"});\r\n               //  history.push('/singup');\r\n            }\r\n            else if(data.status == true){\r\n                M.toast({html:data.message,classes:\"#4caf50 green\"});\r\n                history.push('/login');\r\n            }\r\n            else{\r\n                M.toast({html:data.message,classes:\"#4caf50 green\"});\r\n                history.push('/signup');\r\n            }\r\n        })\r\n    }\r\n    return(\r\n        <div className = \"mycard\">\r\n        <div className = \"card\">\r\n        <h2>Instagram</h2>\r\n        <input type=\"text\" placeholder=\"firstname\" value={firstName} onChange={(e)=>setFirstName(e.target.value)}></input>\r\n        <input type=\"text\" placeholder=\"lastname\" value={lastName} onChange={(e)=>setLastName(e.target.value)}></input>\r\n        <input type=\"text\" placeholder=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)}></input>\r\n        <input type=\"text\" placeholder=\"username\" value={username} onChange={(e)=>setUsername(e.target.value)}></input>\r\n        <input type=\"password\" placeholder=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)}></input>\r\n        <button class=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" type=\"submit\" name=\"action\" onClick={()=>sendData()}>\r\n        Signup\r\n        </button>\r\n        <p>Already an account?</p>\r\n        <Link to='/login'>click here</Link>\r\n        \r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../App';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Profile = ()=>{\r\n    const [mypics,setPics] = useState();\r\n    const {state,dispatch} = useContext(UserContext);\r\n    const [image,setImage] = useState('');\r\n  //  const [url,setUrl]     = useState('');\r\n    useEffect(()=>{\r\n        fetch('/post/mypost',{\r\n            headers:{\r\n                \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n           console.log(result);\r\n            //console.log(result.myposts);\r\n            setPics(result.myposts);\r\n            console.log(mypics);\r\n        })\r\n    },[])\r\n    const deletePost = (id)=>{\r\n        fetch(`/post/delete/${id}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>\r\n            res.json()\r\n        ).then(result=>{\r\n           console.log(result);\r\n           const newData = mypics.filter(item=>{\r\n               return item._id!== result._id\r\n           })\r\n           setPics(newData);\r\n        })\r\n       }\r\n\r\n       useEffect(()=>{\r\n           if(image){\r\n            const data =   new FormData();\r\n            data.append(\"file\", image);\r\n            data.append(\"upload_preset\",\"instagram-clone\")\r\n            data.append(\"cloud_name\",\"dj0jmz1eg\")\r\n            fetch(\"https://api.cloudinary.com/v1_1/dj0jmz1eg/image/upload\",{\r\n                method:\"post\",\r\n                body:data\r\n            }).then(res=>{\r\n                res.json()\r\n                .then(data=>{\r\n                    console.log(data)\r\n                    fetch('/user/updatePic',{\r\n                        method:\"put\",\r\n                        headers:{\r\n                            \"Content-Type\":\"application/json\",\r\n                            \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n                        },\r\n                        body:JSON.stringify({\r\n                            profilePic:data.url\r\n                        })\r\n                    }).then(res=>res.json())\r\n                    .then(result=>{\r\n                        console.log(result)\r\n                        localStorage.setItem(\"user\",JSON.stringify({...state,profilePic:result.profilePic}))\r\n                        dispatch({type:\"PDATEPIC\",payload:result.profilePic})\r\n                        window.location.reload();\r\n                    })\r\n                })\r\n    \r\n            }).catch(err=>{\r\n                console.log(err);\r\n            })\r\n           }\r\n       },[image])\r\n\r\n       const updatePic = (file)=>{\r\n        setImage(file)\r\n       }\r\n    \r\n    \r\n    return(\r\n        <div style={{margin:\"auto\",maxWidth:\"650px\"}}>\r\n        <div style={{display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"2px solid black\"}}>\r\n        <div>\r\n        <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n         src={state?state.profilePic:\"loading...\"}></img>\r\n         <div className=\"file-field input-field\">\r\n<div className=\"btn waves-effect waves-light #64b5f6 blue lighten-2\">\r\n  <span>Update</span>\r\n  <input type=\"file\" onChange={(e)=>updatePic(e.target.files[0])}/>\r\n</div>\r\n<div className=\"file-path-wrapper\">\r\n  <input className=\"file-path validate\" type=\"text\"/>\r\n</div>\r\n</div>\r\n        </div>\r\n        <div><h4>{state?state.firstName + \" \" + state.lastName:\"loading...\"}</h4>\r\n        <h5>{state?state.username:\"loading...\"}</h5>\r\n        <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"115%\"}}>\r\n        <h5>{mypics && mypics.length} posts</h5>\r\n        <h5>{state?state.followers.length:0} followers</h5>\r\n        <h5>{state?state.followings.length:0} followings</h5>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        <div className=\"gallery\">\r\n        {\r\n        mypics&&\r\n          mypics.map(item=>{\r\n              return(\r\n             <div>    \r\n             <Link><i className=\"small material-icons\" onClick={()=>{deletePost(item._id)}}>delete_forever</i></Link> \r\n             <img className=\"item\" src={item.photo} alt={item.title}></img>\r\n             </div> \r\n              )\r\n            })\r\n        }\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React, { useEffect, useState } from \"react\";\r\nimport M from 'materialize-css';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst CreatePost = ()=>{\r\n    const history = useHistory();\r\n    const [title,setTitle] = useState('');\r\n    const [body,setBody]  = useState('');\r\n    const [image,setImage]= useState('');\r\n    const [picUrl,setPicUrl] = useState('');\r\n    useEffect(()=>{\r\n        if(picUrl){  fetch('/post/create',{\r\n            method:'post',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'Authorization':'Bearer'+ localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                title,\r\n                body,\r\n                pic:picUrl\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n          //  console.log(data);\r\n            if(data.error){\r\n                  M.toast({html:data.message,classes:\"#e53935 red darken-1\"});\r\n    \r\n            }\r\n            else{\r\n                M.toast({html:data.message,classes:\"#4caf50 green\"});\r\n                history.push('/');\r\n            }\r\n        })}\r\n      \r\n    },[picUrl])\r\n    const postDetails = ()=>{\r\n        const data =   new FormData();\r\n        data.append(\"file\", image);\r\n        data.append(\"upload_preset\",\"instagram-clone\")\r\n        data.append(\"cloud_name\",\"dj0jmz1eg\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/dj0jmz1eg/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        }).then(res=>{\r\n            res.json()\r\n            .then(datas=>{\r\n                console.log(datas.url);\r\n             setPicUrl(datas.url);\r\n               console.log(picUrl);\r\n               console.log(title);\r\n            })\r\n\r\n        }).catch(err=>{\r\n            console.log(err);\r\n        })\r\n\r\n    }\r\n    return(\r\n<div className=\"card input-field\">\r\n<input type=\"text\" placeholder=\"title\" value={title} onChange={(e)=>setTitle(e.target.value)}></input>\r\n<input type=\"text\" placeholder=\"body\" value={body} onChange={(e)=>setBody(e.target.value)}></input>\r\n<div className=\"file-field input-field\">\r\n<div className=\"btn\">\r\n  <span>Upload Image</span>\r\n  <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])}/>\r\n</div>\r\n<div className=\"file-path-wrapper\">\r\n  <input className=\"file-path validate\" type=\"text\"/>\r\n</div>\r\n</div>\r\n<button class=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" type=\"submit\" name=\"action\" onClick={()=>postDetails()}>\r\nCreate Post\r\n</button>\r\n</div>\r\n    )\r\n}\r\n\r\nexport default CreatePost;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { UserContext } from '../App';\r\n\r\nconst OtherProfile = ()=>{\r\n    const [profile,setProfile] = useState(null);\r\n    const {state,dispatch} = useContext(UserContext);\r\n    const {userid} = useParams();\r\n    const [followButton,setFollowButton] = useState(true);\r\n    useEffect(()=>{\r\n        fetch(`/user/profile/${userid}`,{\r\n            headers:{\r\n                \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n           console.log(result);\r\n            //console.log(result.myposts);\r\n            setProfile(result);\r\n        })\r\n    },[])\r\n\r\n    const follow = ()=>{\r\n        fetch('/user/follow',{\r\n            method:'put',\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n           console.log(data);\r\n           dispatch({type:\"UPDATE\",payload:{followings:data.followings,followers:data.followers}})\r\n           localStorage.setItem(\"user\",JSON.stringify(data))\r\n           setProfile((prevState)=>{\r\n               return{\r\n                   ...prevState,\r\n                   user:{\r\n                       ...prevState.user,\r\n                       followers:[...prevState.user.followers,data._id]\r\n                   }\r\n               }\r\n           })\r\n           setFollowButton(false)\r\n    })\r\n    \r\n}\r\n\r\nconst unfollow = ()=>{\r\n    fetch('/user/unfollow',{\r\n        method:'put',\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer\" + localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n            followId:userid\r\n        })\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n       console.log(data);\r\n       dispatch({type:\"UPDATE\",payload:{followings:data.followings,followers:data.followers}})\r\n       localStorage.setItem(\"user\",JSON.stringify(data))\r\n       setProfile((prevState)=>{\r\n           const updateFollowers = prevState.user.followers.filter(item=>\r\n               item!=data._id\r\n           )\r\n           return{\r\n               ...prevState,\r\n               user:{\r\n                   ...prevState.user,\r\n                   followers:updateFollowers\r\n               }\r\n           }\r\n       })\r\n       setFollowButton(true)\r\n})\r\n\r\n}\r\n    \r\n    return(\r\n        <div style={{margin:\"auto\",maxWidth:\"650px\"}}>\r\n        <div style={{display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"2px solid black\"}}>\r\n        <div>\r\n        <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n         src={profile&& profile.user.profilePic}></img>\r\n        </div>\r\n        <div><h4>{profile&& profile.user.firstName + \" \" + profile.user.lastName}</h4>\r\n        <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"115%\"}}>\r\n        <h5>{profile&& profile.posts.length} posts</h5>\r\n        <h5> {profile && profile.user.followers.length} followers</h5>\r\n        <h5>{profile && profile.user.followings.length} followings</h5>\r\n        </div>\r\n        {\r\n            followButton?\r\n            <button style={{margin:\"10px\"}} class=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" type=\"submit\" name=\"action\" onClick={()=>follow()}>\r\n        Follow\r\n        </button>\r\n        :\r\n        <button style={{margin:\"10px\"}} class=\"btn waves-effect waves-light #64b5f6 blue lighten-2\" type=\"submit\" name=\"action\" onClick={()=>unfollow()}>\r\n        UnFollow\r\n        </button>\r\n        }\r\n        </div>\r\n        </div>\r\n        <div className=\"gallery\">\r\n       {\r\n           profile&&\r\n           profile.posts.map(item=>{\r\n               return(\r\n                   <img className=\"item\" src={item.photo} alt={item.title}></img>\r\n               )\r\n           })\r\n       }\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OtherProfile;","export const initialState = null\r\nconst reducer = (state,action)=>{\r\n    if(action.type==\"USER\"){\r\n        return action.payload\r\n    }\r\n    else if(action.type==\"CLEAR\"){\r\n        return null\r\n    }\r\n    else if(action.type==\"UPDATE\"){\r\n        return{\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            followings:action.payload.followings\r\n        }\r\n    }\r\n    else if (action.type==\"UPDATEPIC\"){\r\n        return{\r\n          ...state,   \r\n            profilePic:action.payload\r\n        }\r\n    }\r\n    else{\r\n        return state;\r\n    }\r\n}\r\nexport default reducer;","import React, { createContext, useContext, useEffect, useReducer } from 'react';\nimport Navbar from './components/navbar';\nimport \"./App.css\";\nimport {BrowserRouter, Route, useHistory} from 'react-router-dom';\nimport Home from './components/home';\nimport Login from './components/login';\nimport Signup from './components/signup';\nimport Profile from './components/profile';\nimport CreatePost from \"./components/createPost\";\nimport OtherProfile from \"./components/otherProfile\";\nimport reducer, { initialState } from './reducer/userReducer';\n\nexport const UserContext = createContext()\n\nconst Routing = ()=>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext);\n  useEffect(()=>{\n const user = JSON.parse(localStorage.getItem(\"user\"));\nif(user){\n  dispatch({type:\"USER\",payload:user})\n  //history.push('/');\n}\nelse{\n  history.push('/login');\n}\n  },[])\n  return(\n    <switch>\n    <Route exact path='/'>\n    <Home />\n    </Route>\n    <Route path='/login'>\n    <Login />\n    </Route>\n    <Route path='/signup'>\n    <Signup />\n    </Route>\n    <Route exact path='/profile'>\n    <Profile />\n    </Route>\n    <Route path='/create'>\n    <CreatePost></CreatePost>\n    </Route>\n    <Route path='/profile/:userid'>\n    <OtherProfile></OtherProfile>\n    </Route>\n    </switch>\n  )\n}\n\nfunction App() {\nconst [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n    <Navbar />\n   <Routing></Routing>\n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}